<%= form_with(model: @season, url: seasons_path(@season), method: :patch) do |f| %>
    <div>
        <label>Seasons Name</label>
        <%= f.text_field :season_name %>
    </div>
    <% if @season.seasons_detail.present? && @season.seasons_detail.is_a?(Array) %>
        <% first_item = @season.seasons_detail.first.values.first %>
    <% else %>
        <% first_item = { "term" => nil, "year" => nil } %>
    <% end %>

    <div>
        <label>รอบที่จะเริ่ม</label>
        <%= f.select :year, ((Time.current.year+543)..(Time.current.year+553)).to_a,
            { prompt: "เลือกปี พ.ศ.", selected: first_item["year"] }, name: 'season[year]', class: "form-control" %>

        <%= f.select :term, [[1, 1], [2, 2], [3, 3]],
            { prompt: "เลือกเทอม", selected: first_item["term"] }, name: 'season[term]', class: "form-control" %>
    </div>

    <div class="form-row">
        <div class="form-group">
            <label>Start Date</label>
            <%= f.date_field :start_date, class: "form-control date-picker" %>
        </div>
        <div class="form-group">
            <label>End Date</label>
            <%= f.date_field :end_date, class: "form-control date-picker" %>
        </div>
    </div>
    <div>
        <%= f.submit "+สร้าง", class: "btn-create-news" %>
    </div>
<% end %>
